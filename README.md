# Gray Area Festival Video Archive

Live at:
https://grayareaorg.github.io/festival-video-archive/


## TODO

- [ ] Filter by topic list
- [ ] Enhance video metadata by adding more tags (via YouTube)

### Hosting

- [ ] Investigate decentralized storage for videos (IPFS)


## Custom Keys via YouTube Description Field

Used for more fidelity in Video Archive. Extra object keys can added to the YouTube description field with the following criteria:

- Metadata delimiter (6 equals signs) "======"
- `key: value` format
- Append raw metadata to bottom of YouTube Description field
- When parsed in the archive JSON, prepended with `meta_`, for example, `festival_year: 2015` becomes `{ "meta_festival_year" : "2015" }` in the archive json

```
======
featured: <featured person(s), or group>
featured_url: https://www.ruhabenjamin.com
festival_year: 2015
... additional metadata as needed ...
```


## Dev Setup

Using [Tailwind](https://tailwindcss.com/) CLI for CSS generation.

Requirements

  - Node (built using v19.8.1)

```bash
npm install -D tailwindcss
npx tailwindcss init
```

Run `npm run css-watch` to watch for change and output css to `./dist/output.css`.

Or run `npm run css-build` to output minified css to `./dist/output.css` for production.

Run `python3 -m http.server` (optional) launch local http server for testing.



## Scripts


### Compile Archive Database

Compile JSON formatted database to be queried from the front end.

Usage `node ./bin/compile-db.js source dest`

- `source` A JSON file or folder of JSON files of YouTube metadata scraped from YouTube via ytdlp
- `dest` A destination folder to write the JSON single-file database. Will prompt to confirm overwrite.


### Get YouTube Metadata

Download YouTube metadata in JSON format from single YouTube video, playlist, or playlists.

Usage `./bin/get-youtube-metadata.sh destination`

- `destination` A destination folder to save the JSON data

Example

```
# get all 2021 videos
./bin/get-youtube-metadata.sh https://www.youtube.com/playlist?list=PLm8zJ0HKEJIbQgPDRsUHiawVtahvShN8X ./data/videos/2021/
```

### Get YouTube Subs from Json Data

Download YouTube auto-generated subtitles in English (en) .vtt subtitle format using information existing YouTube JSON metadata (prerequiste). Will create .vtt files alongside source JSON

Usage `./bin/get-all-subs.sh sourceDir`

- `sourceDir` A source folder of YouTube JSON metadata files


### Get YouTube Autogenerated Transcription/Subtitles

Download auto-generated transcription/subtitles in English for given YouTube ID

Usage `./bin/get-youtube-subs.sh youtube_id [dest]`

- `youtube_id` A YouTubeID
- `dest` (optional) .vtt output destination. Default output will be alongside the source.


### CSS Watch

Watch for CSS changes and build output CSS to `./dist/output.css` with TailwindCSS

Usage: `./bin/css-watch.sh`


### CSS Build

Build minified CSS to `./dist/output.css` with TailwindCSS

Usage: `./bin/css-build.sh`


### Generate Wordcount from .vtt Captions

Counts the number of words in all the video caption files (`*.vtt`) in a given directory.
It sorts them by frequency and associates them to the corresponding video via video id.

Usage: `node ./bin/wordcount.js srcDirectory outputFile.txt [--include-video-stats]`

`--include-video-stats` (optional) includes the wordcount per video id.


### Generate Topic Lists

Usage Example: `./bin/search-caption-string.sh data/videos data/topics/software.txt  "software" "programming" "code" "algorhythm" "computer science" "open source" "interface"`

The above example will parse all the .vtt files for the key words used as arguments. You can use any amount of key words. The output will be a sorted list of occurances.

```
 102 data/videos/2015/History of the Future, Art & Technology from 1965 - Yesterday ｜ Casey Reas ｜ The Gray Area Festival [mHox98NFU3o].en.vtt
  75 data/videos/2020/Amelia Winger-Bearskin ｜ Gray Area Festival 2020 [68gwy1W7Duo].en.vtt
  50 data/videos/2019/Jaron Lanier ｜ Gray Area Festival 2019 Keynote [lsNF4KfmwkY].en.vtt
  49 data/videos/2021/Wendy Chun ｜ Gray Area Festival 2021 [0z_CAlHWdpo].en.vtt
  48 data/videos/2016/Situated Systems Panel ｜ Autodesk ｜ The 2016 Gray Area Festival [jTDMOl7MvrU].en.vtt
  47 data/videos/2015/The School of Poetic Computation ｜ Zach Lieberman ｜ The Gray Area Festival 2015 [0F8EZU6B-jE].en.vtt
  46 data/videos/2017/Lauren McCarthy ｜ the 2017 Gray Area Festival [l1qeNMXccvA].en.vtt
  42 data/videos/2020/Ruha Benjamin ｜ Gray Area Festival 2020 Keynote [GISl_8-fbuA].en.vtt
  42 data/videos/2018/Claire L Evans ｜ Gray Area Festival 2018 [evwWTQ7LRRM].en.vtt
  ...
```