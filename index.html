<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Gray Area Festival Video Archive</title>
    <script defer src="/lib/alpine.min.js"></script>
    <script src="/js/main.js"></script>
</head>
<body>

<div x-data="load()">
  <button x-on:click="fetchVideos()" :disabled="isLoading">Fetch Videos</button>
  <div>Message: <span x-text="videoDisplay"></span></div>
  <template x-for="video in videos" :key="videos.indexOf(video)">
    <div x-data="video">
      <span x-text="video.title"></span>
      <span x-text="video.url"></span>
    </div>
  </template>
</div>


<div x-data="$store.videos.filteredVideos">
  <ul>
    <template x-for="(video, index) in $store.videos" :key="index">
      <li>
        <a :href="video.url">
          <h2 x-text="video.title"></h2>
          <div class="thumb">
            <img :src="video.thumbnail" />
          </div>
        </a>
      </li>
    </template>
  </ul>
  <template x-if="$store.videos.length === 0">
    <p>Loading...</p>
  </template>
</div>

</body>

</html>